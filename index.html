<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Collegamenti Maturit√† 2025</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="logo-container">
    <a href="https://futura.study/home-page/" target="_blank">
      <img src="img/Futura-logoblue.png" alt="Logo Futura" class="logo-futura">
    </a>
  </div>
  <div class="container">
    <h1>Collegamenti Maturit√† 2025</h1>
    <h2 class="subtitle">Inserisci il tuo tema</h2>
    <input type="text" id="tema" placeholder="Es. Khaby Lame">

    <div class="subjects-container">
      <h3>Seleziona le materie:</h3>
      <div class="subject-buttons">
        <button class="subject-btn" data-subject="Storia">Storia</button>
        <button class="subject-btn" data-subject="Filosofia">Filosofia</button>
        <button class="subject-btn" data-subject="Latino">Latino</button>
        <button class="subject-btn" data-subject="Italiano">Italiano</button>
        <button class="subject-btn" data-subject="Fisica">Fisica</button>
        <button class="subject-btn" data-subject="Inglese">Inglese</button>
        <button class="subject-btn" data-subject="Francese">Francese</button>
        <button class="subject-btn" data-subject="Scienze">Scienze</button>
        <button class="subject-btn" data-subject="Matematica">Matematica</button>
        <button class="subject-btn" data-subject="Educazione Civica">Educazione Civica</button>
        <button class="subject-btn" data-subject="Sociologia">Sociologia</button>
        <button class="subject-btn" data-subject="Greco">Greco</button>
        <button class="subject-btn" data-subject="Economia Aziendale">Economia Aziendale</button>
        <button class="subject-btn" data-subject="Diritto">Diritto</button>
      </div>
    </div>

    <button onclick="generaCollegamenti()" class="generate-btn">Genera Collegamenti</button>

    <div class="blog-section">
      <div class="blog-section" id="blog">
      <p>Hai ansia di cosa ti possano chiedere all‚Äô<strong>orale della maturit√† 2025?</strong> Se s√¨, questo √® il posto giusto.</p>
      <p>Con il generatore di <strong>collegamenti per la maturit√† di Futura</strong>, puoi trovare spunti originali, creativi e anche un po‚Äô folli, partendo dai programmi di quarta e quinta superiore.</p>
      <p>Il tool √® facilissimo da usare:</p>
      <ul>
        <li>Inserisci un tema nella barra di ricerca</li>
        <li>Seleziona le materie che vuoi collegare</li>
        <li>Attendi qualche secondo‚Ä¶ e scopri i collegamenti generati dall‚ÄôAI</li>
      </ul>
      <p>Che tu stia cercando un percorso serio o qualcosa di pi√π originale per l‚Äô<strong>orale di maturit√†</strong>, questo strumento ti aiuter√† a costruire collegamenti efficaci e sorprendenti.</p>
      <p>Il tempo passa, l‚Äôesame si avvicina: inizia subito a esplorare i tuoi <strong>collegamenti per la maturit√† 2025</strong>!</p>
        </div>
    </div>

    <h2 id="collegamenti-titolo" style="display: none;">Collegamenti interdisciplinari:</h2>
    <div id="risultato" class="result-container"></div>

    <a href="https://www.instagram.com/futura/" target="_blank" class="share-btn" id="shareBtn" style="display: none;">
      üì∏ Condividi con noi i tuoi risultati!
    </a>
  </div>

  <script>
    // Gestione selezione materie
    document.querySelectorAll('.subject-btn').forEach(button => {
      button.addEventListener('click', () => {
        button.classList.toggle('selected');
      });
    });

    async function generaCollegamenti() {
      const tema = document.getElementById("tema").value;
      const selectedSubjects = Array.from(document.querySelectorAll('.subject-btn.selected'))
        .map(btn => btn.dataset.subject);

      if (selectedSubjects.length === 0) {
        alert("Seleziona almeno una materia!");
        return;
      }

      document.getElementById("risultato").textContent = "Generazione in corso...";
      document.getElementById("collegamenti-titolo").style.display = "block";
      document.getElementById("shareBtn").style.display = "none";

      try {
        const response = await fetch("/api/collegamenti", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ tema, subjects: selectedSubjects })
        });

        const data = await response.json();
        document.getElementById("risultato").innerHTML = data.risposta;
        document.getElementById("shareBtn").style.display = "block";
      } catch (error) {
        document.getElementById("risultato").textContent = "Errore nella generazione dei collegamenti.";
      }
    }
  </script>
</body>
</html>
